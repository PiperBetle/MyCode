$n^2$ 的做法相信大家都会，直接用 dp 暴力转移就可以了。  
$10^9$ 和 $10^{18}$ 的做法显然是贪心。
可以转化为支付 $n$，可以变成 $x+n$ 或 $x\times(n-1)$
- 操作 $1$ 次，最多显然是 $1$
- 操作 $2$ 次，最多显然是 $2$
- 操作 $3$ 次，最多显然是 $3$
- 操作 $4$ 次，最多显然是 $4$
- 操作 $5$ 次，最多显然是 $5$
- 操作 $6$ 次，最多显然是 $6$

但是操作第 $7$ 次时，可以发现在 $f_3$ 的基础上乘 $3$ 变成 $9=3^2$
- 操作 $8$ 次，最多显然是 $12=2^2\times 3$

但是操作第 $9$ 次时，可以发现在 $f_4$ 的基础上乘 $4$ 变成 $16=2^4$
- 操作 $10$ 次，最多显然是 $20=2^2\times 5$

但是操作第 $11$ 次时，可以发现在 $f_7$ 的基础上乘 $3$ 变成 $27=3^3$  
但是操作第 $12$ 次时，可以发现在 $f_8$ 的基础上乘 $3$ 变成 $36=2^2\times 3^2$  
但是操作第 $13$ 次时，可以发现在 $f_8$ 的基础上乘 $3$ 变成 $48=2^4\times 3$  
但是操作第 $14$ 次时，可以发现在 $f_8$ 的基础上乘 $3$ 变成 $64=2^6$  
但是操作第 $15$ 次时，可以发现在 $f_8$ 的基础上乘 $3$ 变成 $81=3^4$  
发现似乎有点规律？第 $7$ 次，$11$ 次，$15$ 次都是 $3$ 的幂，至于介于之间的，就把 $3$ 的幂去掉一个也就是删去一个 $\text{acvvv}$，拿 $2$ 次 $\text{acv}$ 去代替，但是是这样子的吗？

假如我们有 $60$ 次操作：
- 全是 $3$，可以让答案乘 $(3-1)^{60\div3}=2^{20}=1048576$
- 全是 $4$，可以让答案乘 $(4-1)^{60\div4}=3^{15}=14348907$
- 全是 $5$，可以让答案乘 $(5-1)^{60\div5}=4^{12}=16777216$
- 全是 $6$，可以让答案乘 $(6-1)^{60\div6}=5^{10}=9765625$  

可以发现把操作次数 $5$ 个绑定一组是最优的，其次是 $4$ 个绑定一组，那就直接开始贪心，先把所有操作 $4$ 个一组拿出来直到剩下的是 $5$ 的倍数，然后直接算 $5$ 的倍数就可以了。$10^{18}$ 特地是因为幂大于模数要用欧拉定理取模。
至于为什么 $6$ 以上不行是因为在这个情况下 $(n-1)^{n+1}\le n^n$。